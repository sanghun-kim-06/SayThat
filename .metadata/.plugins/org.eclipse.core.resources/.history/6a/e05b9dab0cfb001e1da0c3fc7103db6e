package controller;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.apache.tomcat.util.http.fileupload.servlet.ServletFileUpload;

import service.SayThatService;


public class RecordingController implements Controller{
	@Override
	public String excute(HttpServletRequest req, HttpServletResponse resp) {
		if(req.getMethod().equals("POST")) {
			System.out.println("포스트 요청이 왔어요,");
			// 요청이 multipart/form-data 인지 확인
	        if(ServletFileUpload.isMultipartContent(req)){
	        	SayThatService service = new SayThatService();
	        	service.recordingUpload(req);
	        	
	        } else {
	            req.setAttribute("message", "요청이 multipart/form-data가 아닙니다.");
	        }
			
			req.setAttribute("message", "업로드 성공?");
		}
		
		return "recording";
	}

}
